<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="utf-8"/>
    <title>openBVE Documentation</title>
    <link rel="icon" href="../../favicon.png">
    <link rel="stylesheet" href="../../css/theme.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=0.5, maximum-scale=3.0">
    <meta name="langmeta-current" content="id" />
    
    <meta name="langmeta-translation" content="ca" />
    <meta name="langmeta-translation" content="en" />
    <meta name="langmeta-translation" content="es_mx" />
    <meta name="langmeta-translation" content="fr" />
    <meta name="langmeta-translation" content="hu" />
    <meta name="langmeta-translation" content="ja" />
    <meta name="langmeta-translation" content="ko" />
    <meta name="langmeta-translation" content="zh_cn" />
    <meta name="langmeta-translation" content="zh_hk" />
    <script src="https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js"></script>
    <script src="../../script/script.js"></script>
    <script defer src="https://cdn.staticfile.org/font-awesome/5.3.1/js/all.js"></script>
    <meta name="generator" content="Hugo 0.66.0" />

  </head>
  <body>

    <div id="sidebar" class="responsive-menu responsive-hide">

      
      <div id="site-logo">
          <img alt="Site logo" src="../../images/logo.png">
      </div>
      
      <div class="menu-entries sidebar-language-list">
        <ul class="first" style="padding-bottom:10px">
        <li style="color:black; cursor:pointer" onclick="javascript:toggleLanguageMenu()"><span class="icon">
            <i class="fas fa-angle-down" aria-hidden="true"></i>
          </span>Language</li>
        <ul class="third" style="padding-top:0" id="sidebar-language-menu">
          <li><a href="../../id/routes/tutorial_ats.html">Bahasa Indonesia</a></li>
          <hr style="margin:0.2em 0" />
          
          <li><a href="../../ca/routes/tutorial_ats.html">Català</a></li>
          
          <li><a href="../../en/routes/tutorial_ats.html">English</a></li>
          
          <li><a href="../../es_mx/routes/tutorial_ats.html">Español (México)</a></li>
          
          <li><a href="../../fr/routes/tutorial_ats.html">Français</a></li>
          
          <li><a href="../../hu/routes/tutorial_ats.html">Magyar</a></li>
          
          <li><a href="../../ja/routes/tutorial_ats.html">日本語</a></li>
          
          <li><a href="../../ko/routes/tutorial_ats.html">한국어</a></li>
          
          <li><a href="../../zh_cn/routes/tutorial_ats.html">中文 (大陆简体)</a></li>
          
          <li><a href="../../zh_hk/routes/tutorial_ats.html">中文 (港澳繁體)</a></li>
          
        </ul>
        </ul>
      </div>

      <nav>

<div id="menu-entries">
  <ul class="first">
    
    
    
    <li>Objek
      
      <ul class="second">
        
        <li>Format native
          
          <ul class="third">
            
            <li><a href="../../id/objects/native/b3d.html">Objek B3D</a>
              
            </li>
            
            <li><a href="../../id/objects/native/csv.html">The CSV object</a>
              
            </li>
            
            <li><a href="../../id/objects/native/animated.html">The ANIMATED object</a>
              
            </li>
            
            
              
            </li>
            
            
              
            </li>
            
            
              
            </li>
            
          </ul>
          
        </li>
        
        <li>Format lainnya
          
          <ul class="third">
            
            <li><a href="../../id/objects/other/loksim.html">Loksim3D (.l3dobj)</a>
              
            </li>
            
            <li><a href="../../id/objects/other/x.html">Microsoft DirectX (.x)</a>
              
            </li>
            
            <li><a href="../../id/objects/other/msts.html">Microsoft Train Simulator (.s)</a>
              
            </li>
            
            <li><a href="../../id/objects/other/obj.html">Wavefront (.obj)</a>
              
            </li>
            
          </ul>
          
        </li>
        
        <li><a href="../../id/objects/information.html">Info dan tips</a>
          
        </li>
        
      </ul>
      
    </li>
    
    <li>Rute
      
      <ul class="second">
        
        <li><a href="../../id/routes/csv.html">Rute CSV</a>
          
        </li>
        
        
          
          <ul class="third">
            
            <li><a href="../../id/routes/xml/dynamiclight.html">Adding Dynamic Lighting</a>
              
            </li>
            
            <li><a href="../../id/routes/xml/dynamicbackground.html">Dynamic and Object Based Backgrounds</a>
              
            </li>
            
            <li><a href="../../id/routes/xml/route_marker.html">Scripted Markers</a>
              
            </li>
            
            <li><a href="../../id/routes/xml/stationxml.html">XML Stations &amp; Request Stops</a>
              
            </li>
            
            <li><a href="../../id/routes/xml/trackfollowingobject.html">Track Following Object</a>
              
            </li>
            
          </ul>
          
        </li>
        
        <li><a href="../../id/routes/micsounds.html">Menggunakan mic</a>
          
        </li>
        
        <li><a href="../../id/routes/rw.html">Rute RW</a>
          
        </li>
        
        <li><a href="../../id/routes/tutorial_ats.html">Tutorial: Using ATS</a>
          
        </li>
        
        <li><a href="../../id/routes/tutorial_atc.html">Tutorial: Using ATC</a>
          
        </li>
        
        
          
        </li>
        
        
          
        </li>
        
        
          
        </li>
        
      </ul>
      
    </li>
    
    <li>Kereta
      
      <ul class="second">
        
        <li><a href="../../id/trains/overview.html">Overview</a>
          
        </li>
        
        <li><a href="../../id/trains/train_xml.html">File train.xml</a>
          
        </li>
        
        <li><a href="../../id/trains/train_dat.html">The train.dat file</a>
          
        </li>
        
        
          
          <ul class="third">
            
            <li><a href="../../id/trains/xml/sound.html">The sound.xml file</a>
              
            </li>
            
          </ul>
          
        </li>
        
        <li><a href="../../id/trains/extensions_cfg.html">File <strong>Extensions.cfg</strong></a>
          
        </li>
        
        <li><a href="../../id/trains/panel_cfg.html">The panel.cfg file</a>
          
        </li>
        
        <li><a href="../../id/trains/panel_animated.html">File panel.animated</a>
          
        </li>
        
        <li><a href="../../id/trains/panel2_cfg.html">The panel2.cfg file</a>
          
        </li>
        
        <li><a href="../../id/trains/default_sounds.html">Default sounds</a>
          
        </li>
        
        <li><a href="../../id/trains/openbveats.html">The OpenBveAts Plugin</a>
          
        </li>
        
        <li><a href="../../id/trains/sound_cfg.html">The sound.cfg file</a>
          
        </li>
        
        <li><a href="../../id/trains/ats_cfg.html">File ats.cfg</a>
          
        </li>
        
        <li><a href="../../id/trains/information.html">Info dan tips</a>
          
        </li>
        
        <li><a href="../../id/trains/plugins.html">Plugin kereta</a>
          
          <ul class="third">
            
            
              
            </li>
            
          </ul>
          
        </li>
        
        
          
        </li>
        
        
          
        </li>
        
        
          
        </li>
        
        
          
        </li>
        
      </ul>
      
    </li>
    
    <li>Plugin
      
      <ul class="second">
        
        <li><a href="../../id/plugins/overview.html">Overview</a>
          
        </li>
        
        
          
        </li>
        
        
          
        </li>
        
      </ul>
      
    </li>
    
    <li>Informasi
      
      <ul class="second">
        
        <li><a href="../../id/information/encodings.html">Enkoding karakter</a>
          
        </li>
        
        <li><a href="../../id/information/numberformats.html">Format angka</a>
          
        </li>
        
        <li><a href="../../id/information/whitespaces.html">Spasi</a>
          
        </li>
        
        <li><a href="../../id/information/textureformats.html">Format gambar skin / tekstur</a>
          
        </li>
        
        <li><a href="../../id/information/soundformats.html">Format suara</a>
          
        </li>
        
        <li><a href="../../id/information/standards.html">Standar</a>
          
        </li>
        
        <li><a href="../../id/information/distribution.html">Membagikan add-ons</a>
          
        </li>
        
        <li><a href="../../id/information/forking.html">Panduan Forking</a>
          
        </li>
        
        <li><a href="../../id/information/bve.html">Vs. BVE Trainsim</a>
          
        </li>
        
      </ul>
      
    </li>
    
    <li>Alat
      
      <ul class="second">
        
        <li><a href="../../id/tools/objectviewer.html">Object Viewer</a>
          
        </li>
        
        <li><a href="../../id/tools/objectbender.html">Object Bender</a>
          
        </li>
        
        <li><a href="../../id/tools/routeviewer.html">Route Viewer</a>
          
        </li>
        
        <li><a href="../../id/tools/traineditor.html">Train Editor</a>
          
        </li>
        
      </ul>
      
    </li>
    
    <li>Contoh Lebih Detail
      
      <ul class="second">
        
        <li><a href="../../id/examples/demoroute.html">Rute percobaan</a>
          
        </li>
        
      </ul>
      
    </li>
    
  </ul>
</div>
</nav>

    </div>

    <div class="floating-action-button responsive-show" role="button" onclick="javascript:toggleMenu()">
        <i class="fas fa-bars" aria-hidden="true"></i>
    </div>

    <div id="container">

        <div id="page-title">
          <h1>Tutorial: Using ATS-SN and ATS-P in a CSV route file</h1>
        </div>

        




<div id="content">
  <p>This tutorial is intended to guide you on how to properly set up the built-in Japanese safety systems ATS-SN and ATS-P in the case you want to make your route ready to use them. This page assumes that you are familiar with what ATS-SN and ATS-P are. If not, please take a look at the following page first:</p>
<p>➟ <a href="https://openbve-project.net/play-japanese/">How to drive - A quick overview on controls, ATS/ATC, signals and signs</a></p>
<h2 id="-setting-up-a-route-for-ats-sn">■ Setting up a route for ATS-SN</h2>
<p>For ATS-S, an S-type transponder is usually placed 600 meters in front of a red signal. The distance can of course vary with the operation speed used on the route, but is a good start for speeds up to 100 km/h. For ATS-SN, the SN-transponder is additionally placed around 20 meters in front of the signal.</p>
<h3 id="-when-the-signal-interval-is-larger-than-600-meters">● When the signal interval is larger than 600 meters</h3>
<p><img src="../../images/illustration_transponder_setup_atssn.png" alt="illustration_transponder_setup_atssn"></p>
<p>In the case that your signals are at least 600 meters apart from each other, the setup is quite easy. Place a <strong>Track.Tr 0</strong> command around 600 meters in front of any signal, and a <strong>Track.Tr 1</strong> command around 20 meters in front of any signal:</p>
<div class="overflow-container">
<table style="border: none;">
<tbody>
<tr>
<td width="16" valign="top">▶</td>
<td bgcolor="#D4D8FF" style="border: 1px dashed;">
<font style="font-family: monospace">
With Track<br>
0200, .Tr 0<br>
0780, .Tr 1<br>
0800, .Signal 3;;-3;-1
</font>
</td>
</tr>
</tbody>
</table>
</div>
<h3 id="-when-the-signal-interval-is-smaller-than-600-meters">● When the signal interval is smaller than 600 meters</h3>
<p>When signals are in placed smaller intervals, it can become necessary that an S-type transponder is placed in front of one signal, while it actually needs to reference the signal following that one. In this case, it is necessary to indicate which upcoming signal a transponder is supposed to reference. Via a <strong>Track.Tr <em>type</em>; 0</strong> command, the immediately following signal is referenced, while via <strong>Track.Tr <em>type</em>; 1</strong>, the signal following that one is referenced.</p>
<p><img src="../../images/illustration_transponder_setup_atssn_overlap.png" alt="illustration_transponder_setup_atssn_overlap"></p>
<p>Your code will then need to follow this scheme:</p>
<div class="overflow-container">
<table style="border: none;">
<tbody>
<tr>
<td width="16" valign="top">▶</td>
<td bgcolor="#D4D8FF" style="border: 1px dashed;">
<font style="font-family: monospace">
With Track<br>
0200, .Tr 0<br>
0700, .Tr 0;1 ,; referencing signal B<br>
0780, .Tr 1<br>
0800, .Signal 3;;-3;-1 ,; signal A<br>
1280, .Tr 1<br>
1300, .Signal 3;;-3;-1 ,; signal B
</font>
</td>
</tr>
</tbody>
</table>
</div>
<h2 id="-setting-up-a-route-for-ats-p">■ Setting up a route for ATS-P</h2>
<p>For ATS-P, the first pattern renewal transponder is usually placed 600 meters in front of each signal, which can also vary with the operation speed. The pattern renewal transponder is usually repeated a few times so that in the case the aspect of the signal changes, the train can be informed about the change without having to apply the brakes for too long. The pattern renewal transponder is usually placed 600 meters, 280 meters, 180 meters, 85 meters or 50 meters in front of signals, while an immediate stop transponder is usually placed either 25 meters or 30 meters in front of each signal. Which transponders are located where usually depends on the type of the signal. The following is only an example.</p>
<div class="overflow-container">
<table class='type0'>
<thead>
<tr>
<th>Signal</th>
<th>600m</th>
<th>280m</th>
<th>180m</th>
<th>85m</th>
<th>50m</th>
<th>30m</th>
<th>25m</th>
</tr>
</thead>
<tbody>
<tr>
<td>Departure signal</td>
<td><font color="green">✓</font></td>
<td><font color="green">✓</font></td>
<td><font color="green">✓</font></td>
<td><font color="green">✓</font></td>
<td><font color="green">✓</font></td>
<td><font color="red">✗</font></td>
<td><font color="green">✓</font></td>
</tr>
<tr>
<td>Block signal</td>
<td><font color="green">✓</font></td>
<td><font color="red">✗</font></td>
<td><font color="green">✓</font></td>
<td><font color="green">✓</font></td>
<td><font color="red">✗</font></td>
<td><font color="green">✓</font></td>
<td><font color="red">✗</font></td>
</tr>
<tr>
<td>Home signal</td>
<td><font color="green">✓</font></td>
<td><font color="green">✓</font></td>
<td><font color="green">✓</font></td>
<td><font color="green">✓</font></td>
<td><font color="green">✓</font></td>
<td><font color="green">✓</font></td>
<td><font color="red">✗</font></td>
</tr>
</tbody>
</table>
</div>
<p>Departure signals are those placed at the end of a station, block signals are signals in-between stations, and home signals are those immediately placed before stations.</p>
<h3 id="-when-the-signal-interval-is-larger-than-600-meters-1">● When the signal interval is larger than 600 meters</h3>
<p><img src="../../images/illustration_transponder_setup_atsp.png" alt="illustration_transponder_setup_atsp"></p>
<p>In the case that your signals are at least 600 meters apart from each other, the setup is quite easy. Place <strong>Track.Tr 3</strong> commands around 600 meters, 280 meters, 180 meters, 85 meters and 50 meters, depending on the requirements, in front of any signal, and a <strong>Track.Tr 4</strong> command around 25 meters in front of any signal:</p>
<div class="overflow-container">
<table style="border: none;">
<tbody>
<tr>
<td width="16" valign="top">▶</td>
<td bgcolor="#D4D8FF" style="border: 1px dashed;">
<font style="font-family: monospace">
With Track<br>
0200, .Tr 3 ,; 600m<br>
0520, .Tr 3 ,; 280m<br>
0620, .Tr 3 ,; 180m<br>
0715, .Tr 3 ,; 85m<br>
0750, .Tr 3 ,; 50m<br>
0775, .Tr 4 ,; 25m<br>
0800, .Signal 3;;-3;-1
</font>
</td>
</tr>
</tbody>
</table>
</div>
<h3 id="-when-the-signal-interval-is-smaller-than-600-meters-1">● When the signal interval is smaller than 600 meters</h3>
<p>When signals are placed in shorter intervals, you need to be a little more careful on how to place the transponders if they need to reference signals following the immediately upcoming one. Whenever you reference signals beyond the immediately upcoming one with pattern renewal transponders or immediate stop transponders, the first signal until then which is red is referenced. This means that if you use <strong>Track.Tr <em>type</em>;1</strong>, but the immediately upcoming signal is red, that signal will be referenced. Only otherwise, the signal behind that is referenced. Take a look at the following illustration depicting how to set up ATS-P in the case of overlapping signal ranges:</p>
<p><img src="../../images/illustration_transponder_setup_atsp_overlap.png" alt="illustration_transponder_setup_atsp_overlap"></p>
<p>The corresponding code could look something like this:</p>
<div class="overflow-container">
<table style="border: none;">
<tbody>
<tr>
<td width="16" valign="top">▶</td>
<td bgcolor="#D4D8FF" style="border: 1px dashed;">
<font style="font-family: monospace">
0200, .Tr 3 ,; 600m<br>
0520, .Tr 3 ,; 280m<br>
0620, .Tr 3;1 ,; 180m (signal A); 605m (signal B)<br>
0775, .Tr 4 ,; 25m (signal A);<br>
0777, .Tr 3;1 ,; 23m (signal A); 448m (signal B)<br>
0800, .Signal 3;;-3;-1 ,; signal A<br>
0945, .Tr 3 ,; 280m<br>
1045, .Tr 3 ,; 180m<br>
1140, .Tr 3 ,; 85m<br>
1175, .Tr 3 ,; 50m<br>
1200, .Tr 4 ,; 25m<br>
1225, .Signal 3;;-3;-1, ; signal B
</font>
</td>
</tr>
</tbody>
</table>
</div>
<p>This code is simplified in that you would likely also want to include transponders for signal A at 85m and 50m, which you can do by using additional <strong>Track.Tr 3;1</strong> commands.</p>
<h2 id="-setting-up-a-route-for-both-ats-sn-and-ats-p">■ Setting up a route for both ATS-SN and ATS-P</h2>
<p>Often, a route equipped with ATS-P additionally employs equipment for ATS-SN, be it for trains not equipped with ATS-P, or as a fallback should ATS-P suffer from a failure. Normally, any of the S-type or SN-type transponders will activate the ATS-SN system, while any of the pattern renewal or immediate stop transponders will activate ATS-P. In order for an ATS-P-equipped train to stay in ATS-P operation all the time, you should set up all ATS-SN-related transponders to not change the current safety system. This can be done via <strong>Track.Tr <em>type</em>; <em>signal</em>; -1</strong>.</p>
<p><img src="../../images/illustration_transponder_setup_atsp_atssn.png" alt="illustration_transponder_setup_atsp_atssn"></p>
<p>You should make sure that no two transponders occupy the same location. Both the S-type and the pattern renewal transponders are usually placed 600 meters in front of each signal. If you place the pattern renewal transponder first, ATS-P can activate if not already active, and the subsequent S-type transponder will have no effect on a train equipped with ATS-P. Your code will thus need to follow this scheme:</p>
<div class="overflow-container">
<table style="border: none;">
<tbody>
<tr>
<td width="16" valign="top">▶</td>
<td bgcolor="#D4D8FF" style="border: 1px dashed;">
<font style="font-family: monospace">
With Track<br>
0195, .Tr 3<br>
0200, .Tr 0;;-1<br>
0520, .Tr 3<br>
0620, .Tr 3<br>
0715, .Tr 3<br>
0750, .Tr 3<br>
0775, .Tr 4<br>
0780, .Tr 1;;-1<br>
0800, .Signal 3;;-3;-1
</font>
</td>
</tr>
</tbody>
</table>
</div>
<p>If the signal distance is shorter than 600 meters, you should additionally employ the techniques described in the respective sections for ATS-SN and ATS-P.</p>
<h2 id="-setting-up-a-route-for-the-use-of-accidental-departure-transponders">■ Setting up a route for the use of accidental departure transponders</h2>
<p>In stations, the accidental departure transponders are occasionally placed shortly after a station stop point to prevent a train from accidentally starting toward a red signal. The accidental departure transponder will trigger regardless of whether the train currently operates in ATS-SN or in ATS-P. As you can define multiple stop points per station, each being associated to a particular number of cars, any accidental departure transponder will only be active if it is behind the stop point at which the train is supposed to stop at.</p>
<p>You can employ the accidental departure transponder in the following way:</p>
<div class="overflow-container">
<table style="border: none;">
<tbody>
<tr>
<td width="16" valign="top">▶</td>
<td bgcolor="#D4D8FF" style="border: 1px dashed;">
<font style="font-family: monospace">
0100, .Sta<br>
0178, .Stop 1;;;4<br>
0180, .Tr 2<br>
0212, .Stop 1;;;6<br>
0214, .Tr 2<br>
0246, .Stop 1;;;8<br>
0248, .Tr 2<br>
0280, .Stop 1;;;10<br>
0282, .Tr 2<br>
0300, .Signal 3;;-3;-1
</font>
</td>
</tr>
</tbody>
</table>
</div>
<p>If, in this code example, your train had a length of 8 cars, the transponders at 248 and 282 would bring the train to a hold immediately if the upcoming signal at 300 is red.</p>

</div>

      <div id="footer">

      </div>

    </div>

  </body>
</html>

