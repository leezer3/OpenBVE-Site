<!DOCTYPE html>
<html lang="zh_cn">
  <head>
    <meta charset="utf-8"/>
    <title>openBVE Documentation</title>
    <link rel="icon" href="../../../favicon.png">
    <link rel="stylesheet" href="../../../css/theme.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=0.5, maximum-scale=3.0">
    <meta name="langmeta-current" content="zh_cn" />
    
    <meta name="langmeta-translation" content="ca" />
    <meta name="langmeta-translation" content="en" />
    <meta name="langmeta-translation" content="es_mx" />
    <meta name="langmeta-translation" content="fr" />
    <meta name="langmeta-translation" content="hu" />
    <meta name="langmeta-translation" content="id" />
    <meta name="langmeta-translation" content="ja" />
    <meta name="langmeta-translation" content="ko" />
    <meta name="langmeta-translation" content="zh_hk" />
    <script src="https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js"></script>
    <script src="../../../script/script.js"></script>
    <script defer src="https://cdn.staticfile.org/font-awesome/5.3.1/js/all.js"></script>
    <meta name="generator" content="Hugo 0.66.0" />

  </head>
  <body>

    <div id="sidebar" class="responsive-menu responsive-hide">

      
      <div id="site-logo">
          <img alt="Site logo" src="../../../images/logo.png">
      </div>
      
      <div class="menu-entries sidebar-language-list">
        <ul class="first" style="padding-bottom:10px">
        <li style="color:black; cursor:pointer" onclick="javascript:toggleLanguageMenu()"><span class="icon">
            <i class="fas fa-angle-down" aria-hidden="true"></i>
          </span>Language</li>
        <ul class="third" style="padding-top:0" id="sidebar-language-menu">
          <li><a href="../../../zh_cn/routes/xml/stationxml.html">中文 (大陆简体)</a></li>
          <hr style="margin:0.2em 0" />
          
          <li><a href="../../../ca/routes/xml/stationxml.html">Català</a></li>
          
          <li><a href="../../../en/routes/xml/stationxml.html">English</a></li>
          
          <li><a href="../../../es_mx/routes/xml/stationxml.html">Español (México)</a></li>
          
          <li><a href="../../../fr/routes/xml/stationxml.html">Français</a></li>
          
          <li><a href="../../../hu/routes/xml/stationxml.html">Magyar</a></li>
          
          <li><a href="../../../id/routes/xml/stationxml.html">Bahasa Indonesia</a></li>
          
          <li><a href="../../../ja/routes/xml/stationxml.html">日本語</a></li>
          
          <li><a href="../../../ko/routes/xml/stationxml.html">한국어</a></li>
          
          <li><a href="../../../zh_hk/routes/xml/stationxml.html">中文 (港澳繁體)</a></li>
          
        </ul>
        </ul>
      </div>

      <nav>

<div id="menu-entries">
  <ul class="first">
    
    
    
    <li>物件格式
      
      <ul class="second">
        
        <li>原生物件格式
          
          <ul class="third">
            
            <li><a href="../../../zh_cn/objects/native/b3d.html">B3D 物件</a>
              
            </li>
            
            <li><a href="../../../zh_cn/objects/native/csv.html">CSV 物件格式</a>
              
            </li>
            
            <li><a href="../../../zh_cn/objects/native/animated.html">ANIMATED 动画物件</a>
              
            </li>
            
            
              
            </li>
            
            
              
            </li>
            
            
              
            </li>
            
          </ul>
          
        </li>
        
        <li>兼容物件格式
          
          <ul class="third">
            
            <li><a href="../../../zh_cn/objects/other/loksim.html">Loksim3D (.l3dobj)</a>
              
            </li>
            
            <li><a href="../../../zh_cn/objects/other/x.html">DirectX (.x)</a>
              
            </li>
            
            <li><a href="../../../zh_cn/objects/other/msts.html">微软模拟火车 (.s)</a>
              
            </li>
            
            <li><a href="../../../zh_cn/objects/other/obj.html">Wavefront (.obj)</a>
              
            </li>
            
          </ul>
          
        </li>
        
        <li><a href="../../../zh_cn/objects/information.html">参考资料与重要提示</a>
          
        </li>
        
      </ul>
      
    </li>
    
    <li>路线格式
      
      <ul class="second">
        
        <li><a href="../../../zh_cn/routes/csv.html">CSV 线路格式</a>
          
        </li>
        
        
          
          <ul class="third">
            
            <li><a href="../../../zh_cn/routes/xml/dynamiclight.html">Adding Dynamic Lighting</a>
              
            </li>
            
            <li><a href="../../../zh_cn/routes/xml/dynamicbackground.html">Dynamic and Object Based Backgrounds</a>
              
            </li>
            
            <li><a href="../../../zh_cn/routes/xml/route_marker.html">Scripted Markers</a>
              
            </li>
            
            <li><a href="../../../zh_cn/routes/xml/stationxml.html">XML Stations &amp; Request Stops</a>
              
            </li>
            
            <li><a href="../../../zh_cn/routes/xml/trackfollowingobject.html">轨道循迹物件</a>
              
            </li>
            
          </ul>
          
        </li>
        
        <li><a href="../../../zh_cn/routes/micsounds.html">播放麦克风声音</a>
          
        </li>
        
        <li><a href="../../../zh_cn/routes/rw.html">RW 路線</a>
          
        </li>
        
        <li><a href="../../../zh_cn/routes/tutorial_ats.html">Tutorial: Using ATS</a>
          
        </li>
        
        <li><a href="../../../zh_cn/routes/tutorial_atc.html">ATC使用教程</a>
          
        </li>
        
        
          
        </li>
        
        
          
        </li>
        
        
          
        </li>
        
      </ul>
      
    </li>
    
    <li>列车格式
      
      <ul class="second">
        
        <li><a href="../../../zh_cn/trains/overview.html">概述</a>
          
        </li>
        
        <li><a href="../../../zh_cn/trains/train_dat.html">The train.dat file</a>
          
        </li>
        
        <li><a href="../../../zh_cn/trains/train_xml.html">train.xml 文件</a>
          
        </li>
        
        
          
          <ul class="third">
            
            <li><a href="../../../zh_cn/trains/xml/sound.html">The sound.xml file</a>
              
            </li>
            
          </ul>
          
        </li>
        
        <li><a href="../../../zh_cn/trains/extensions_cfg.html">extensions.cfg 文件</a>
          
        </li>
        
        <li><a href="../../../zh_cn/trains/panel_cfg.html">The panel.cfg file</a>
          
        </li>
        
        <li><a href="../../../zh_cn/trains/panel_animated.html">panel.animated 檔案</a>
          
        </li>
        
        <li><a href="../../../zh_cn/trains/panel2_cfg.html">The panel2.cfg file</a>
          
        </li>
        
        <li><a href="../../../zh_cn/trains/default_sounds.html">Default sounds</a>
          
        </li>
        
        <li><a href="../../../zh_cn/trains/openbveats.html">The OpenBveAts Plugin</a>
          
        </li>
        
        <li><a href="../../../zh_cn/trains/sound_cfg.html">The sound.cfg file</a>
          
        </li>
        
        <li><a href="../../../zh_cn/trains/ats_cfg.html"><strong>ats.cfg</strong> 檔案</a>
          
        </li>
        
        <li><a href="../../../zh_cn/trains/plugins.html">Train plugins</a>
          
          <ul class="third">
            
            
              
            </li>
            
          </ul>
          
        </li>
        
        <li><a href="../../../zh_cn/trains/information.html">参考资料与重要提示</a>
          
        </li>
        
        
          
        </li>
        
        
          
        </li>
        
        
          
        </li>
        
        
          
        </li>
        
      </ul>
      
    </li>
    
    <li>插件编程
      
      <ul class="second">
        
        <li><a href="../../../zh_cn/plugins/overview.html">Overview</a>
          
        </li>
        
        
          
        </li>
        
      </ul>
      
    </li>
    
    <li>参考资料
      
      <ul class="second">
        
        <li><a href="../../../zh_cn/information/encodings.html">字符编码</a>
          
        </li>
        
        <li><a href="../../../zh_cn/information/numberformats.html">數字格式</a>
          
        </li>
        
        <li><a href="../../../zh_cn/information/whitespaces.html">White Spaces</a>
          
        </li>
        
        <li><a href="../../../zh_cn/information/textureformats.html">材質格式</a>
          
        </li>
        
        <li><a href="../../../zh_cn/information/soundformats.html">Sound formats</a>
          
        </li>
        
        <li><a href="../../../zh_cn/information/standards.html">標準</a>
          
        </li>
        
        <li><a href="../../../zh_cn/information/distribution.html">發佈附加檔</a>
          
        </li>
        
        <li><a href="../../../zh_cn/information/forking.html">复刻 (Fork) 准则</a>
          
        </li>
        
        <li><a href="../../../zh_cn/information/bve.html">与BVE的不同</a>
          
        </li>
        
      </ul>
      
    </li>
    
    <li>开发工具
      
      <ul class="second">
        
        <li><a href="../../../zh_cn/tools/objectviewer.html">Object Viewer</a>
          
        </li>
        
        <li><a href="../../../zh_cn/tools/objectbender.html">Object Bender</a>
          
        </li>
        
        <li><a href="../../../zh_cn/tools/routeviewer.html">Route Viewer</a>
          
        </li>
        
        <li><a href="../../../zh_cn/tools/traineditor.html">Train Editor</a>
          
        </li>
        
      </ul>
      
    </li>
    
    <li>详细示例
      
      <ul class="second">
        
        <li><a href="../../../zh_cn/examples/demoroute.html">示范路线</a>
          
        </li>
        
      </ul>
      
    </li>
    
  </ul>
</div>
</nav>

    </div>

    <div class="floating-action-button responsive-show" role="button" onclick="javascript:toggleMenu()">
        <i class="fas fa-bars" aria-hidden="true"></i>
    </div>

    <div id="container">

        <div id="page-title">
          <h1>The XML Station Format</h1>
        </div>

        




<div id="content">
  <p>This page describes the principles and implementation of the XML based station format.</p>
<h2 id="-basic-principles">■ Basic Principles</h2>
<p>A station within openBVE, when combined with one or more <em>.Stop</em> commands, defines a point at which trains call.</p>
<p>Each station which you wish to use must be setup using a Station XML file an example of which is shown below:</p>
<textarea rows="17" cols="110" style="border:2;">
  
&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;
&lt;openBVE xmlns:xsi=&#34;http://www.w3.org/2001/XMLSchema-instance&#34; xmlns:xsd=&#34;http://www.w3.org/2001/XMLSchema&#34;&gt;
    &lt;Station&gt;
        &lt;Name&gt;Dockyard&lt;/Name&gt;
        &lt;ArrivalTime&gt;12.3130&lt;/ArrivalTime&gt;
        &lt;DepartureTime&gt;12.3150&lt;/DepartureTime&gt;
        &lt;Doors&gt;Left&lt;/Doors&gt;
        &lt;ForcedRedSignal&gt;False&lt;/ForcedRedSignal&gt;
        &lt;PassengerRatio&gt;10&lt;/PassengerRatio&gt;
    &lt;/Station&gt;
&lt;/openBVE&gt;  

</textarea>
<h2 id="-the-basic-station">■ The basic station</h2>
<p>The following basic attributes are required for all stations:</p>
<hr>
<div id="command">
<strong>&lt;Name&gt;</strong> <em>StationName</em> <strong>&lt;/Name&gt;</strong>
</div>
<p><strong>StationName</strong> sets the textual string by which this station is referred to in timetables, in-game messages etc.</p>
<hr>
<div id="command">
<strong>&lt;ArrivalTime&gt;</strong> <em>Time</em> <strong>&lt;/ArrivalTime&gt;</strong>
</div>
<p><strong>Time</strong> sets the time at which the player&rsquo;s train is expected to arrive at this station.</p>
<p><em>Note:</em> When this parameter is omitted, the player is permitted to arrive at any time.</p>
<hr>
<div id="command">
<strong>&lt;DepartureTime&gt;</strong> Time <strong>&lt;/DepartureTime&gt;</strong>
</div>
<p><strong>Time</strong> sets the time at which the player&rsquo;s train is expected to depart this station.</p>
<p><em>Note:</em> When this parameter is omitted, the player is permitted to depart at any time.</p>
<hr>
<div id="command">
<strong>&lt;Doors&gt;</strong> Value <strong>&lt;/Doors&gt;</strong>
</div>
<p><strong>Doors</strong> controls the side on which the train doors are to open. Valid values are:</p>
<ul>
<li><strong>Left , L or -1</strong> : The left-hand doors are to open.</li>
<li><strong>Right, R or 1</strong> : The right-hand doors are to open.</li>
<li><strong>None, N or 0</strong> : No doors open at this station.</li>
</ul>
<p><em>Note:</em> If omitted, no doors open.</p>
<hr>
<div id="command">
<strong>&lt;ForcedRedSignal&gt;</strong> True / False <strong>&lt;/ForcedRedSignal&gt;</strong>
</div>
<p>If <em>ForcedRedSignal</em> is set to <strong>True</strong> , then the signal associated with this station will be held at Red (Aspect 0) until the scheduled departure time.</p>
<hr>
<div id="command">
<strong>&lt;PassengerRatio&gt;</strong> <em>Ratio</em> <strong>&lt;/PassengerRatio&gt;</strong>
</div>
<p><strong>Ratio</strong> sets the approximate ratio of passengers on-board the train from this point onwards. As a reference, <strong>100</strong> represents a train with normal amount of passengers, while <strong>250</strong> represents an over-crowded train. Values in-between <strong>0</strong> and <strong>250</strong> should be used.</p>
<hr>
<div id="command">
<strong>&lt;ArrivalSound&gt;</strong> Sound <strong>&lt;/ArrivalSound&gt;</strong>
</div>
<p><strong>Sound</strong> should be the path of the sound-file to be played upon arrival at this station, relative to the Sound folder.</p>
<hr>
<div id="command">
<strong>&lt;DepartureSound&gt;</strong> Sound <strong>&lt;/DepartureSound&gt;</strong>
</div>
<p><strong>Sound</strong> should be the path of the sound-file to be played upon departure from this station, relative to the Sound folder.</p>
<hr>
<div id="command">
<strong>&lt;StopDuration&gt;</strong> Duration <strong>&lt;/StopDuration&gt;</strong>
</div>
<p><strong>Duration</strong> should be the minimum stop duration in seconds, to include both the door opening and closing times. The default value is <strong>15</strong>.</p>
<hr>
<div id="command">
<strong>&lt;TimeTableIndex&gt;</strong> Index <strong>&lt;/TimeTableIndex&gt;</strong>
</div>
<p><strong>Index</strong> sets the timetable to be shown from this station on as defined via <em>Train.Timetable(TimetableIndex)</em></p>
<h2 id="-creating-a-request-stop">■ Creating a Request Stop</h2>
<p>Creating a request stop requires one further section to be added within your <em>&lt;Station&gt;</em> section:</p>
<textarea rows="17" cols="110" style="border:2;">
  
&lt;RequestStop&gt;
    &lt;Probability&gt;50&lt;/Probability&gt;
    &lt;Distance&gt;700&lt;/Distance&gt;
    &lt;StopMessage&gt;You will need to stop at Dockyard today.&lt;/StopMessage&gt;
    &lt;PassMessage&gt;No passengers for Dockyard.&lt;/PassMessage&gt;
&lt;/RequestStop&gt;  

</textarea>
<p>The following basic attributes are supported for this section:</p>
<hr>
<div id="command">
<strong>&lt;EarlyTime&gt;</strong> Time <strong>&lt;/EarlyTime&gt;</strong>
</div>
<p><strong>Time</strong> sets the time before which the Early probabilities / message will be used.</p>
<p><em>Note:</em> May be omitted.</p>
<hr>
<div id="command">
<strong>&lt;LateTime&gt;</strong> Time <strong>&lt;/LateTime&gt;</strong>
</div>
<p><strong>Time</strong> sets the time before which the Late probabilities / message will be used.</p>
<p><em>Note:</em> May be omitted.</p>
<hr>
<div id="command">
<strong>&lt;Distance&gt;</strong> DistanceInMeters <strong>&lt;/Distance&gt;</strong>
</div>
<p><strong>DistanceInMeters</strong> sets the distance in meters before this station that the Request Stop roll will be made.</p>
<p><em>Note:</em> This distance must be less than that to the previous station.</p>
<hr>
<div id="command">
<strong>&lt;StopMessage&gt;</strong> Message <strong>&lt;/StopMessage&gt;</strong>
</div>
<div id="command">
<strong>&lt;PassMessage&gt;</strong> Message <strong>&lt;/PassMessage&gt;</strong>
</div>
<p><strong>Message</strong> sets the textual message to be displayed in the upper left of the screen when the request stop is triggered, depending on whether we are to stop at or pass this station.</p>
<p>Alternatively, if you require a specific message when the player is early/ late, the following sub-attributes are supported:</p>
<div id="command">
<strong><font color="royalblue">&lt;Early&gt;</font></strong> <em><font color="royalblue">Message</font></em> <strong><font color="royalblue">&lt;/Early&gt;</font></strong>
</div>
<div id="command">
<strong><font color="royalblue">&lt;OnTime&gt;</font></strong> <em><font color="royalblue">Message</font></em> <strong><font color="royalblue">&lt;/OnTime&gt;</font></strong>
</div>
<div id="command">
<strong><font color="royalblue">&lt;Late&gt;</font></strong> <em><font color="royalblue">Message</font></em> <strong><font color="royalblue">&lt;/Late&gt;</font></strong>
</div>
<hr>
<div id="command">
<strong>&lt;Probability&gt;</strong> <em>Value</em> <strong>&lt;/Probability&gt;</strong>
</div>
<p><strong>Probability</strong> should be an integer from <strong>0</strong> to <strong>100</strong> , representing the approximate probability that this stop may be requested.</p>
<p>Alternatively, if you require a specific probability when the player is early/ late, the following sub-attributes are supported:</p>
<div id="command">
<strong><font color="royalblue">&lt;Early&gt;</font></strong> <em><font color="royalblue">Value</font></em> <strong><font color="royalblue">&lt;/Early&gt;</font></strong>
</div>
<div id="command">
<strong><font color="royalblue">&lt;OnTime&gt;</font></strong> <em><font color="royalblue">Value</font></em> <strong><font color="royalblue">&lt;/OnTime&gt;</font></strong>
</div>
<div id="command">
<strong><font color="royalblue">&lt;Late&gt;</font></strong> <em><font color="royalblue">Value</font></em> <strong><font color="royalblue">&lt;/Late&gt;</font></strong>
</div>
<p><em>Note:</em> If only one or two of the specific probabilities above are set, the others are assumed to have a zero-probability and thus will not trigger.</p>
<hr>
<div id="command">
<strong>&lt;MaxCars&gt;</strong> <em>Cars</em> <strong>&lt;/MaxCars&gt;</strong>
</div>
<p><strong>Cars</strong> sets the maximum length of a train before this request stop is automatically skipped.</p>
<p><em>Note:</em> No message is displayed in this case.</p>
<hr>
<div id="command">
<strong>&lt;AIBehaviour&gt;</strong> <em>Value</em> <strong>&lt;/AIBehaviour&gt;</strong>
</div>
<p><strong>Value</strong> controls the behaviour of the default AI driver towards this request stop. Valid values are:</p>
<ul>
<li><strong>FullSpeed or 0</strong> : If the request stop is not triggered, the AI driver ignores it and passes at linespeed.</li>
<li><strong>NormalBrake or 1</strong> : If the request stop is not triggered, the AI driver brakes to ~10mph as it passes through the station.</li>
</ul>
<p><em>Note:</em> May be overriden by plugins implementing an AI method.</p>

</div>

      <div id="footer">

      </div>

    </div>

  </body>
</html>

