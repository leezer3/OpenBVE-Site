<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>openBVE Documentation</title>
    <link rel="icon" href="../../../favicon.png">
    <link rel="stylesheet" href="../../../css/theme.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=0.5, maximum-scale=3.0">
    <meta name="langmeta-current" content="en" />
    
    <script src="https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js"></script>
    <script src="../../../script/script.js"></script>
    <script defer src="https://cdn.staticfile.org/font-awesome/5.3.1/js/all.js"></script>
    <meta name="generator" content="Hugo 0.66.0" />

  </head>
  <body>

    <div id="sidebar" class="responsive-menu responsive-hide">

      
      <div id="site-logo">
          <img alt="Site logo" src="../../../images/logo.png">
      </div>
      
      <div class="menu-entries sidebar-language-list">
        <ul class="first" style="padding-bottom:10px">
        <li style="color:black; cursor:pointer" onclick="javascript:toggleLanguageMenu()"><span class="icon">
            <i class="fas fa-angle-down" aria-hidden="true"></i>
          </span>Language</li>
        <ul class="third" style="padding-top:0" id="sidebar-language-menu">
          <li><a href="../../../en/routes/xml/switches.html">English</a></li>
          <hr style="margin:0.2em 0" />
          
        </ul>
        </ul>
      </div>

      <nav>

<div id="menu-entries">
  <ul class="first">
    
    
    
    <li>Objects
      
      <ul class="second">
        
        <li>Native formats
          
          <ul class="third">
            
            <li><a href="../../../en/objects/native/b3d.html">The B3D object</a>
              
            </li>
            
            <li><a href="../../../en/objects/native/csv.html">The CSV object</a>
              
            </li>
            
            <li><a href="../../../en/objects/native/animated.html">The ANIMATED object</a>
              
            </li>
            
            
              
            </li>
            
            
              
            </li>
            
            
              
            </li>
            
          </ul>
          
        </li>
        
        <li>Other formats
          
          <ul class="third">
            
            <li><a href="../../../en/objects/other/loksim.html">Loksim3D (.l3dobj)</a>
              
            </li>
            
            <li><a href="../../../en/objects/other/x.html">Microsoft DirectX (.x)</a>
              
            </li>
            
            <li><a href="../../../en/objects/other/msts.html">Microsoft Train Simulator (.s)</a>
              
            </li>
            
            <li><a href="../../../en/objects/other/obj.html">Wavefront (.obj)</a>
              
            </li>
            
          </ul>
          
        </li>
        
        <li><a href="../../../en/objects/information.html">Information and tips</a>
          
        </li>
        
      </ul>
      
    </li>
    
    <li>Routes
      
      <ul class="second">
        
        <li><a href="../../../en/routes/csv.html">The CSV route</a>
          
        </li>
        
        
          
          <ul class="third">
            
            <li><a href="../../../en/routes/xml/dynamiclight.html">Adding Dynamic Lighting</a>
              
            </li>
            
            <li><a href="../../../en/routes/xml/switches.html">Adding Switches</a>
              
            </li>
            
            <li><a href="../../../en/routes/xml/dynamicbackground.html">Dynamic and Object Based Backgrounds</a>
              
            </li>
            
            <li><a href="../../../en/routes/xml/route_marker.html">Scripted Markers</a>
              
            </li>
            
            <li><a href="../../../en/routes/xml/stationxml.html">XML Stations &amp; Request Stops</a>
              
            </li>
            
            <li><a href="../../../en/routes/xml/trackfollowingobject.html">Track Following Object</a>
              
            </li>
            
          </ul>
          
        </li>
        
        <li><a href="../../../en/routes/micsounds.html">Playing Sounds from a Microphone Input</a>
          
        </li>
        
        <li><a href="../../../en/routes/rw.html">The RW route</a>
          
        </li>
        
        <li><a href="../../../en/routes/tutorial_ats.html">Tutorial: Using ATS</a>
          
        </li>
        
        <li><a href="../../../en/routes/tutorial_atc.html">Tutorial: Using ATC</a>
          
        </li>
        
        
          
        </li>
        
        
          
        </li>
        
        
          
        </li>
        
      </ul>
      
    </li>
    
    <li>Trains
      
      <ul class="second">
        
        <li><a href="../../../en/trains/overview.html">Overview</a>
          
        </li>
        
        <li><a href="../../../en/trains/train_dat.html">The train.dat file</a>
          
        </li>
        
        <li><a href="../../../en/trains/train_xml.html">The train.xml file</a>
          
        </li>
        
        
          
          <ul class="third">
            
            <li><a href="../../../en/trains/xml/sound.html">The sound.xml file</a>
              
            </li>
            
          </ul>
          
        </li>
        
        <li><a href="../../../en/trains/extensions_cfg.html">The extensions.cfg file</a>
          
        </li>
        
        <li><a href="../../../en/trains/panel_cfg.html">The panel.cfg file</a>
          
        </li>
        
        <li><a href="../../../en/trains/panel_animated.html">The panel.animated file</a>
          
        </li>
        
        <li><a href="../../../en/trains/panel2_cfg.html">The panel2.cfg file</a>
          
        </li>
        
        <li><a href="../../../en/trains/default_sounds.html">Default sounds</a>
          
        </li>
        
        <li><a href="../../../en/trains/openbveats.html">The OpenBveAts Plugin</a>
          
        </li>
        
        <li><a href="../../../en/trains/sound_cfg.html">The sound.cfg file</a>
          
        </li>
        
        <li><a href="../../../en/trains/ats_cfg.html">The ats.cfg file</a>
          
        </li>
        
        <li><a href="../../../en/trains/information.html">Information and tips</a>
          
        </li>
        
        <li><a href="../../../en/trains/plugins.html">Train plugins</a>
          
          <ul class="third">
            
            
              
            </li>
            
          </ul>
          
        </li>
        
        
          
        </li>
        
        
          
        </li>
        
        
          
        </li>
        
        
          
        </li>
        
      </ul>
      
    </li>
    
    <li>Plugins
      
      <ul class="second">
        
        <li><a href="../../../en/plugins/overview.html">Overview</a>
          
        </li>
        
        
          
        </li>
        
        
          
        </li>
        
      </ul>
      
    </li>
    
    <li>Information
      
      <ul class="second">
        
        <li><a href="../../../en/information/encodings.html">Character encodings</a>
          
        </li>
        
        <li><a href="../../../en/information/numberformats.html">Number formats</a>
          
        </li>
        
        <li><a href="../../../en/information/whitespaces.html">White Spaces</a>
          
        </li>
        
        <li><a href="../../../en/information/textureformats.html">Texture formats</a>
          
        </li>
        
        <li><a href="../../../en/information/soundformats.html">Sound formats</a>
          
        </li>
        
        <li><a href="../../../en/information/standards.html">Standards</a>
          
        </li>
        
        <li><a href="../../../en/information/distribution.html">Distributing add-ons</a>
          
        </li>
        
        <li><a href="../../../en/information/forking.html">Forking guidelines</a>
          
        </li>
        
        <li><a href="../../../en/information/bve.html">Vs. BVE Trainsim</a>
          
        </li>
        
      </ul>
      
    </li>
    
    <li>Tools
      
      <ul class="second">
        
        <li><a href="../../../en/tools/objectviewer.html">Object Viewer</a>
          
        </li>
        
        <li><a href="../../../en/tools/objectbender.html">Object Bender</a>
          
        </li>
        
        <li><a href="../../../en/tools/routeviewer.html">Route Viewer</a>
          
        </li>
        
        <li><a href="../../../en/tools/traineditor.html">Train Editor</a>
          
        </li>
        
      </ul>
      
    </li>
    
    <li>Further Examples
      
      <ul class="second">
        
        <li><a href="../../../en/examples/demoroute.html">Demonstration route</a>
          
        </li>
        
      </ul>
      
    </li>
    
  </ul>
</div>
</nav>

    </div>

    <div class="floating-action-button responsive-show" role="button" onclick="javascript:toggleMenu()">
        <i class="fas fa-bars" aria-hidden="true"></i>
    </div>

    <div id="container">

        <div id="page-title">
          <h1>Switches and Running on Alternate Tracks</h1>
        </div>

        




<div id="content">
  <p>This page describes the principles of switches, and running the player train on alternate tracks within the game world.</p>
<p>At present, this is a basic implementation, and has many flaws which are centered around the routefile format, and the need to retain backwards compatability.</p>
<p>Please note that further development is ongoing.</p>
<div id="warning-nontitle">
<span>âš </span><p>The <strong>.Turn</strong> command may not be used in routes containing switches. Please use the <strong>.Curve</strong> command instead.</p>
</div>
<h2 id="-basic-principles">â–  Basic Principles</h2>
<p>The CSV route format is a linear format, centered around <strong>Rail 0</strong> , which defines the world path of the player.</p>
<p>Alternate rails may be added, but these are positioned relative to the player rail.</p>
<p>Two types of switch are available- The standard switch and a trailing switch.</p>
<p>The current implementation (as of <strong>v1.10.0</strong>) is basic, and is only intended as an initial working experiment. 
As such, signalling, speed limits etc. are poorly or not supported when running on secondary tracks.</p>
<h2 id="-commands">â–  Commands</h2>
<div id="command">
<strong>Track.Switch</strong> <em>FirstRail</em>; <em>SecondRail</em>; <em>InitialSetting</em>; <em>Reserved</em>; <em>SwitchName</em>; <em>FirstTrackName</em>; <em>SecondTrackName</em>
</div>
<div id="command-arguments">
<em><strong>FirstRail</strong></em>: A non-negative integer representing the first of the two switch rail indicies.<br>
<em><strong>SecondRail</strong></em>: A non-negative integer representing the second of the two switch rail indicies.<br>
<em><strong>InitialSetting</strong></em>: The initial setting for the switch.<br>
<em><strong>Reserved</strong></em>: Not currently used, reserved for future use.<br>
<em><strong>SwitchName</strong></em>: The name for the switch displayed on the map.<br>
<em><strong>FirstTrackName</strong></em>: The name for the first track when displayed on the map.<br>
<em><strong>SecondTrackName</strong></em>: The name for the second track when displayed on the map.
</div>
<p>This creates a standard switch.</p>
<p>If the player train is running in the forwards direction on the rail index defined by <strong>FirstRail</strong>, it will be switched to the current setting of the switch.</p>
<p>If the player train is running in the reverse direction on the rail index defined by <strong>SecondRail</strong>, and the current setting of the switch is also <strong>SecondRail</strong> it will be switched to <strong>FirstRail</strong>.</p>
<div id="command">
<strong>Track.SwitchT</strong> <em>FirstRail</em>; <em>SecondRail</em>; <em>InitialSetting</em>; <em>Reserved</em>; <em>SwitchName</em>; <em>FirstTrackName</em>; <em>SecondTrackName</em>
</div>
<div id="command-arguments">
<em><strong>FirstRail</strong></em>: A non-negative integer representing the first of the two switch rail indicies.<br>
<em><strong>SecondRail</strong></em>: A non-negative integer representing the second of the two switch rail indicies.<br>
<em><strong>InitialSetting</strong></em>: The initial setting for the switch.<br>
<em><strong>Reserved</strong></em>: Not currently used, reserved for future use.<br>
<em><strong>SwitchName</strong></em>: The name for the switch displayed on the map.<br>
<em><strong>FirstTrackName</strong></em>: The name for the first track when displayed on the map.<br>
<em><strong>SecondTrackName</strong></em>: The name for the second track when displayed on the map.
</div>
<p>This creates a trailing (reverse) switch.</p>
<p>If the player train is running in the reverse direction on the rail index defined by <strong>FirstRail</strong>, it will be switched to the current setting of the switch.</p>
<p>If the player train is running in the forwards direction on the rail index defined by <strong>SecondRail</strong>, and the current setting of the switch is also <strong>SecondRail</strong> it will be switched to <strong>FirstRail</strong>.</p>
<div id="command">
<strong>Track.PlayerPath</strong> <em>FirstRail</em>; <em>SecondRail</em>
</div>
<div id="command-arguments">
<em><strong>FirstRail</strong></em>: A non-negative integer representing the first rail indicies.<br>
<em><strong>SecondRail</strong></em>: A non-negative integer representing the second rail indicies.
</div>
<p>This switches the path (rail) that the player train is running on.</p>
<p>If the player train is running in the forwards direction on the rail index defined by <strong>FirstRail</strong>, it will be switched to <strong>SecondRail</strong>.</p>
<p>If the player train is running in the reverse direction on the rail index defined by <strong>SecondRail</strong>, it will be switched to <strong>FirstRail</strong>.</p>
<div id="command">
<strong>Track.RailLimit</strong> <em>RailIndex</em>; <em><font color="blue">Speed</font></em>; <em>Post</em>; <em>Cource</em>
</div>
<p>This creates a limit for a rail other than Rail 0.</p>
<div id="command-arguments">
<em><strong>RailIndex</strong></em>: The rail index for which the speed limit applies.<br>
<em><strong><font color="blue">Speed</font></strong></em>: A positive floating-point number representing the speed, <strong>by default</strong> measured in <strong>km/h</strong>, or 0 to indicate no speed restriction. The default value is 0.<br>
<em><strong>Post</strong></em>: The side on which to place a default Japanese-style speed limit post. The default value is 0.<br>
<em><strong>Cource</strong></em>: The directional indication. The default value is 0.
</div>
<p><img src="../../../images/illustration_limit.png" alt="illustration_limit"></p>
<p>â–¸ Options for <em>Post</em>:</p>
<div id="command-arguments">
<strong>-1</strong>: The post is placed on the left side of the track.<br>
<strong>0</strong>: No post will be placed.<br>
<strong>1</strong>: The post is placed on the right side of the track.
</div>
<p>â–¸ Options for <em>Cource</em>:</p>
<div id="command-arguments">
<strong>-1</strong>: The post applies for a left-bound track.<br>
<strong>0</strong>: The post does not indicate a particular direction.<br>
<strong>1</strong>: The post applies for a right-bound track.
</div>
<p>This command defines the new speed limit from this point on. If the new speed limit is lower than the current speed limit, the new speed limit will take effect immediately. If the speed limit is higher than the current speed limit, the new speed limit will take effect only once the whole train has passed this point. By setting <em>Speed</em> to <code>0</code>, the speed restriction is released. By setting <em>Post</em> to either <code>-1</code> or <code>1</code>, a default Japanese-style speed post is placed at the respective side of the track. Setting <em>Course</em> to either <code>-1</code> or <code>1</code> includes a directional indication, which is usually used at railroad switches to indicate that the speed limit only applies if the respective direction is being taken. If <em>Speed</em> is set to <code>0</code>, the setting of <em>Course</em> has no effect.</p>
<div id="notice">
The <em>Cource</em> option is used solely when creating the limit post. Please use a separate <strong>Track.RailLimit</strong> for each track, omitting the post if required.
</div>
<div id="command">
<strong>Track.RailBuffer</strong>  <em>RailIndex</em>
</div>
<p>This command places a bumper. The train can collide with the bumper in both the forward and backward directions. Place this command at the beginning and the end of the route. An object is not automatically created, so use Track.FreeObj to create a visual representation of the bumper if necessary.</p>
<div id="command-arguments">
<em><strong>RailIndex</strong></em>: The rail index on which the bumper is placed.
</div>

</div>

      <div id="footer">

      </div>

    </div>

  </body>
</html>

